# â›ª Ecclesia | Sistema de GestÃ£o Ministerial

<div align="center">

![Ecclesia Banner](https://via.placeholder.com/1200x300/6366f1/ffffff?text=Ecclesia+Church+Management+System)

**Transformando a gestÃ£o ministerial em uma experiÃªncia fluida, moderna e organizada.**

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
[![Node Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)](https://nodejs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](http://makeapullrequest.com)

[Demo](#) â€¢ [DocumentaÃ§Ã£o](#) â€¢ [Reportar Bug](https://github.com/MunhozIago244/Ecclesia/issues) â€¢ [Solicitar Feature](https://github.com/MunhozIago244/Ecclesia/issues)

---

### ğŸš€ Deploy RÃ¡pido

<div align="center">

[![Deploy on Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/MunhozIago244/Ecclesia)
[![Deploy on Railway](https://railway.app/button.svg)](https://railway.app/template/ecclesia)

**ou**

ğŸ“– [Guia Completo de Deploy](./DEPLOY_GUIDE.md) | âœ… [Checklist de ProduÃ§Ã£o](./PRODUCTION_CHECKLIST.md)

</div>

</div>

---

## ğŸ“– Sobre o Projeto

O **Ecclesia** Ã© uma plataforma completa e moderna para gestÃ£o ministerial, projetada especificamente para igrejas que desejam centralizar e simplificar suas operaÃ§Ãµes administrativas. Com uma interface intuitiva e recursos poderosos, o sistema permite que lÃ­deres dediquem mais tempo ao que realmente importa: **cuidar de pessoas**.

### ğŸ¯ Principais Diferenciais

- âœ… **Interface Moderna e Intuitiva** - Design system consistente com suporte a temas claro/escuro
- âœ… **GestÃ£o Completa de Membros** - Perfis detalhados com controle de acesso granular
- âœ… **MinistÃ©rios Organizados** - Estrutura hierÃ¡rquica com funÃ§Ãµes e especialidades
- âœ… **Escalas Inteligentes** - Sistema automatizado de distribuiÃ§Ã£o de voluntÃ¡rios
- âœ… **Controle Patrimonial** - InventÃ¡rio de equipamentos e gestÃ£o de espaÃ§os fÃ­sicos
- âœ… **100% Responsivo** - Funciona perfeitamente em qualquer dispositivo
- âœ… **Open Source** - CÃ³digo aberto e gratuito para toda comunidade

---

## âœ¨ Funcionalidades

### ğŸ‘¥ GestÃ£o de Membros & Perfis

<details open>
<summary><b>Ver detalhes</b></summary>

- **Sistema de PermissÃµes Multi-nÃ­vel**
  - ğŸ‘‘ Administrador (acesso total)
  - ğŸ¯ LÃ­der (gestÃ£o de ministÃ©rios)
  - ğŸ‘¤ UsuÃ¡rio (visualizaÃ§Ã£o e auto-gestÃ£o)

- **Perfis Completos**
  - Foto de perfil personalizÃ¡vel
  - InformaÃ§Ãµes de contato (telefone, email, WhatsApp)
  - Bio e descriÃ§Ã£o pessoal
  - MinistÃ©rios vinculados
  - HistÃ³rico de participaÃ§Ã£o

- **Controle de Membresia**
  - Status: Ativo, Inativo, Visitante
  - Data de batismo e integraÃ§Ã£o
  - AnotaÃ§Ãµes administrativas privadas

</details>

### ğŸ¸ MinistÃ©rios e Equipes

<details>
<summary><b>Ver detalhes</b></summary>

- **Estrutura Organizacional**
  - CriaÃ§Ã£o ilimitada de ministÃ©rios
  - AtribuiÃ§Ã£o de lÃ­deres responsÃ¡veis
  - DescriÃ§Ã£o e objetivos do ministÃ©rio

- **Sistema de Especialidades**
  - MÃºsica: Guitarra, Baixo, Bateria, Vocal, Teclado
  - MÃ­dia: Ãudio, VÃ­deo, Streaming, Design
  - Apoio: RecepÃ§Ã£o, Estacionamento, SeguranÃ§a, Kids
  - CustomizÃ¡vel para qualquer igreja

- **Painel de GestÃ£o**
  - Adicionar/remover voluntÃ¡rios
  - Visualizar disponibilidade
  - HistÃ³rico de serviÃ§os

</details>

### ğŸ“… Escalas e Eventos

<details>
<summary><b>Ver detalhes</b></summary>

- **CalendÃ¡rio Inteligente**
  - VisualizaÃ§Ã£o mensal/semanal/diÃ¡ria
  - Cultos regulares e eventos especiais
  - IntegraÃ§Ã£o com Google Calendar (planejado)

- **DistribuiÃ§Ã£o de Escalas**
  - âœ¨ **AtribuiÃ§Ã£o automÃ¡tica com IA** âœ¨ **NOVO**
  - AtribuiÃ§Ã£o manual de voluntÃ¡rios
  - NotificaÃ§Ãµes automÃ¡ticas por email âœ¨ **NOVO**
  - VisualizaÃ§Ã£o de disponibilidade

- **Sistema de DistribuiÃ§Ã£o AutomÃ¡tica** âœ¨ **NOVO**
  - ğŸ¤– Algoritmo inteligente de pontuaÃ§Ã£o (0-100)
  - ğŸ“Š Considera 4 critÃ©rios:
    - Disponibilidade (40 pontos)
    - EspecializaÃ§Ã£o (30 pontos)
    - Rotatividade (20 pontos)
    - Taxa de confirmaÃ§Ã£o (10 pontos)
  - ğŸ” PrevenÃ§Ã£o de conflitos de horÃ¡rio
  - âš–ï¸ DistribuiÃ§Ã£o equilibrada entre voluntÃ¡rios
  - ğŸ“§ NotificaÃ§Ãµes automÃ¡ticas apÃ³s distribuiÃ§Ã£o
  - ğŸ¯ Modo sugestÃ£o ou aplicaÃ§Ã£o direta

- **NotificaÃ§Ãµes Implementadas** âœ¨ **NOVO**
  - ğŸ“§ Email automÃ¡tico ao ser escalado
  - ğŸ“§ ConfirmaÃ§Ã£o de aprovaÃ§Ã£o em ministÃ©rios
  - ğŸ“§ Boas-vindas a novos membros
  - ğŸ“§ Alertas de ativaÃ§Ã£o/desativaÃ§Ã£o de conta

- **PrevenÃ§Ã£o de Conflitos**
  - DetecÃ§Ã£o de sobreposiÃ§Ã£o de horÃ¡rios
  - Alertas de indisponibilidade
  - SugestÃµes inteligentes de substituiÃ§Ã£o

</details>

### ğŸ—ï¸ Infraestrutura e PatrimÃ´nio

<details>
<summary><b>Ver detalhes</b></summary>

- **InventÃ¡rio de Equipamentos**
  - Instrumentos musicais
  - Equipamentos de som e vÃ­deo
  - MobiliÃ¡rio e recursos gerais
  - Status: DisponÃ­vel, Em uso, ManutenÃ§Ã£o

- **GestÃ£o de Locais**
  - AuditÃ³rios e salas
  - Capacidade e recursos
  - Agendamento de uso

- **ManutenÃ§Ã£o Preventiva**
  - HistÃ³rico de manutenÃ§Ãµes
  - Alertas de revisÃ£o periÃ³dica

</details>

---

## ğŸ› ï¸ Stack TecnolÃ³gica

### Frontend

| Tecnologia | VersÃ£o | DescriÃ§Ã£o |
|------------|--------|-----------|
| ![React](https://img.shields.io/badge/React-18+-61DAFB?logo=react&logoColor=white) | 18+ | Framework UI declarativo |
| ![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?logo=typescript&logoColor=white) | 5.0+ | Superset JavaScript com tipagem |
| ![Vite](https://img.shields.io/badge/Vite-5+-646CFF?logo=vite&logoColor=white) | 5+ | Build tool ultra-rÃ¡pido |
| ![Tailwind CSS](https://img.shields.io/badge/Tailwind-3+-06B6D4?logo=tailwindcss&logoColor=white) | 3+ | Framework CSS utility-first |
| ![Shadcn UI](https://img.shields.io/badge/Shadcn_UI-Latest-000000?logo=shadcnui&logoColor=white) | Latest | Componentes reutilizÃ¡veis |
| ![Framer Motion](https://img.shields.io/badge/Framer_Motion-11+-FF0055?logo=framer&logoColor=white) | 11+ | AnimaÃ§Ãµes fluidas |
| ![TanStack Query](https://img.shields.io/badge/TanStack_Query-5+-FF4154?logo=reactquery&logoColor=white) | 5+ | GestÃ£o de estado assÃ­ncrono |

### Backend

| Tecnologia | VersÃ£o | DescriÃ§Ã£o |
|------------|--------|-----------|
| ![Node.js](https://img.shields.io/badge/Node.js-18+-339933?logo=nodedotjs&logoColor=white) | 18+ | Runtime JavaScript |
| ![Express](https://img.shields.io/badge/Express-4+-000000?logo=express&logoColor=white) | 4+ | Framework web minimalista |
| ![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-4169E1?logo=postgresql&logoColor=white) | 15+ | Banco de dados relacional |
| ![Drizzle ORM](https://img.shields.io/badge/Drizzle_ORM-Latest-C5F74F?logo=drizzle&logoColor=black) | Latest | ORM TypeScript-first |
| ![Passport.js](https://img.shields.io/badge/Passport.js-Latest-34E27A?logo=passport&logoColor=white) | Latest | AutenticaÃ§Ã£o robusta |
| ![Nodemailer](https://img.shields.io/badge/Nodemailer-6+-00A86B?logo=mail.ru&logoColor=white) | 6+ | Sistema de emails âœ¨ **NOVO** |

---

## ğŸš€ ComeÃ§ando

### ğŸ“‹ PrÃ©-requisitos

Antes de comeÃ§ar, certifique-se de ter instalado:

- **Node.js** (v18 ou superior) - [Download](https://nodejs.org/)
- **PostgreSQL** (v15 ou superior) - [Download](https://www.postgresql.org/download/)
- **Git** - [Download](https://git-scm.com/)
- **npm** ou **yarn** (gerenciador de pacotes)

### ğŸ“¦ InstalaÃ§Ã£o

1. **Clone o repositÃ³rio**
```bash
git clone https://github.com/MunhozIago244/Ecclesia.git
cd Ecclesia
```

2. **Instale as dependÃªncias**
```bash
# Usando npm
npm install

# Ou usando yarn
yarn install
```

3. **Configure as variÃ¡veis de ambiente**

Crie um arquivo `.env` na raiz do projeto:
```env
# Database
DATABASE_URL=postgresql://usuario:senha@localhost:5432/ecclesia

# Server
PORT=5000
NODE_ENV=development

# Session
SESSION_SECRET=sua_chave_secreta_super_segura_aqui

# Email (Opcional - Sistema de NotificaÃ§Ãµes) âœ¨ NOVO
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=seu_email@gmail.com
SMTP_PASS=sua_senha_de_app
SMTP_FROM_NAME=Ecclesia
APP_URL=http://localhost:5173

# Cloudinary (Opcional - Upload de imagens)
CLOUDINARY_CLOUD_NAME=seu_cloud_name
CLOUDINARY_API_KEY=sua_api_key
CLOUDINARY_API_SECRET=seu_api_secret
```

> ğŸ’¡ **Nota sobre Emails**: O sistema funciona sem configuraÃ§Ã£o SMTP (modo simulado). Configure apenas se desejar enviar emails reais. [Ver documentaÃ§Ã£o completa](docs/EMAIL_NOTIFICATIONS.md)

4. **Configure o banco de dados**
```bash
# Execute as migrations
npm run db:push
```

5. **Inicie o servidor de desenvolvimento**
```bash
# Frontend + Backend
npm run dev

# Apenas Frontend
npm run dev:client

# Apenas Backend
npm run dev:server
```

6. **Acesse a aplicaÃ§Ã£o**

Abra seu navegador em: `http://localhost:5173`

**Credenciais padrÃ£o:**
- Email: `admin@ecclesia.com`
- Senha: `admin123`

> âš ï¸ **Importante:** Altere as credenciais padrÃ£o apÃ³s o primeiro acesso!

---

## ğŸ“ Estrutura do Projeto
```
Ecclesia/
â”œâ”€â”€ client/                 # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Componentes reutilizÃ¡veis
â”‚   â”‚   â”œâ”€â”€ pages/         # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ hooks/         # Custom React Hooks
â”‚   â”‚   â”œâ”€â”€ lib/           # UtilitÃ¡rios e configuraÃ§Ãµes
â”‚   â”‚   â””â”€â”€ App.tsx        # Componente principal
â”‚   â””â”€â”€ public/            # Assets estÃ¡ticos
â”‚
â”œâ”€â”€ server/                # Backend Node.js
â”‚   â”œâ”€â”€ auth.ts           # AutenticaÃ§Ã£o e autorizaÃ§Ã£o
â”‚   â”œâ”€â”€ db.ts             # ConexÃ£o com PostgreSQL
â”‚   â”œâ”€â”€ routes.ts         # Rotas da API REST
â”‚   â”œâ”€â”€ storage.ts        # Camada de acesso a dados
â”‚   â”œâ”€â”€ email.ts          # ServiÃ§o de notificaÃ§Ãµes âœ¨ NOVO
â”‚   â”œâ”€â”€ scheduler.ts      # DistribuiÃ§Ã£o automÃ¡tica âœ¨ NOVO
â”‚   â””â”€â”€ index.ts          # Servidor Express
â”‚
â”œâ”€â”€ shared/                # CÃ³digo compartilhado
â”‚   â”œâ”€â”€ schema.ts         # Schema Drizzle + Zod
â”‚   â””â”€â”€ routes.ts         # DefiniÃ§Ãµes de rotas
â”‚
â”œâ”€â”€ docs/                  # DocumentaÃ§Ã£o adicional
â”‚   â”œâ”€â”€ EMAIL_NOTIFICATIONS.md     # Doc de emails âœ¨
â”‚   â””â”€â”€ AUTO_SCHEDULER.md          # Doc do scheduler âœ¨
â”‚
â”œâ”€â”€ tests/                 # Testes automatizados
â”œâ”€â”€ .env.example          # VariÃ¡veis de ambiente
â”œâ”€â”€ INSTALL_NOTIFICATIONS.md       # Guia de instalaÃ§Ã£o emails âœ¨
â”œâ”€â”€ INSTALL_SCHEDULER.md           # Guia de instalaÃ§Ã£o scheduler âœ¨
â”œâ”€â”€ CHANGELOG_NOTIFICATIONS.md     # Changelog emails âœ¨
â””â”€â”€ CHANGELOG_SCHEDULER.md         # Changelog scheduler âœ¨
```

---

## ğŸ¨ Design System

### Paleta de Cores

O Ecclesia utiliza um sistema de cores semÃ¢ntico e adaptativo:
```css
/* Tema Claro */
--primary: 263 70% 50%        /* Indigo vibrante */
--secondary: 220 14% 96%      /* Cinza claro */
--accent: 142 71% 45%         /* Verde esperanÃ§a */
--destructive: 0 84% 60%      /* Vermelho alerta */

/* Tema Escuro */
--primary: 263 70% 50%        
--secondary: 217 33% 17%      
--accent: 142 71% 45%         
--destructive: 0 63% 31%      
```

### Componentes

- **Cards OrgÃ¢nicos:** Bordas arredondadas de `2.5rem` para visual acolhedor
- **Feedback Visual:** Toasts animados com Sonner
- **Estados de Carregamento:** Skeletons sutis e consistentes
- **TransiÃ§Ãµes:** AnimaÃ§Ãµes fluidas com Framer Motion (200-300ms)

---

## ğŸ§ª Testes
```bash
# Executar todos os testes
npm test

# Testes com coverage
npm run test:coverage

# Testes e2e
npm run test:e2e
```

---

## ğŸ“Š Roadmap

### âœ… Fase 1 - MVP (ConcluÃ­do)
- [x] Sistema de autenticaÃ§Ã£o
- [x] CRUD de membros
- [x] CRUD de ministÃ©rios
- [x] Sistema de permissÃµes
- [x] Tema claro/escuro
- [x] **Sistema de notificaÃ§Ãµes por email** âœ¨
- [x] **DistribuiÃ§Ã£o automÃ¡tica de escalas** âœ¨

### ğŸš§ Fase 2 - Em Desenvolvimento
- [x] **NotificaÃ§Ãµes por email implementadas** âœ¨
  - [x] AprovaÃ§Ã£o/rejeiÃ§Ã£o de ministÃ©rios
  - [x] AtribuiÃ§Ã£o de escalas
  - [x] AtivaÃ§Ã£o/desativaÃ§Ã£o de contas
  - [x] Boas-vindas a novos usuÃ¡rios
- [x] **Sistema de distribuiÃ§Ã£o automÃ¡tica** âœ¨
  - [x] Algoritmo de pontuaÃ§Ã£o inteligente
  - [x] API endpoints (sugestÃ£o, aplicaÃ§Ã£o, validaÃ§Ã£o)
  - [x] IntegraÃ§Ã£o com notificaÃ§Ãµes por email
- [ ] Interface frontend para distribuiÃ§Ã£o automÃ¡tica
- [ ] CalendÃ¡rio visual de eventos
- [ ] ExportaÃ§Ã£o de relatÃ³rios (PDF/Excel)
- [ ] NotificaÃ§Ãµes em tempo real (WebSocket)

### ğŸ“… Fase 3 - Planejado (Q2 2025)
- [ ] App mobile (React Native)
- [ ] MÃ³dulo financeiro
- [ ] Sistema de cÃ©lulas/grupos pequenos
- [ ] IntegraÃ§Ã£o com WhatsApp Business API
- [ ] Dashboard analÃ­tico

### ğŸ”® Fase 4 - Futuro
- [ ] Multi-tenancy (suporte a mÃºltiplas igrejas)
- [ ] Marketplace de plugins
- [ ] IA avanÃ§ada para sugestÃµes de escalas
- [ ] Machine Learning para prever confirmaÃ§Ãµes
- [ ] TransmissÃ£o ao vivo integrada

---

## ğŸ“š DocumentaÃ§Ã£o Adicional

- ğŸ“§ [Sistema de NotificaÃ§Ãµes por Email](docs/EMAIL_NOTIFICATIONS.md) - DocumentaÃ§Ã£o completa do mÃ³dulo de emails
- ğŸ¤– [Sistema de DistribuiÃ§Ã£o AutomÃ¡tica](docs/AUTO_SCHEDULER.md) - DocumentaÃ§Ã£o do algoritmo inteligente
- ğŸ› ï¸ [Guia de InstalaÃ§Ã£o - Emails](INSTALL_NOTIFICATIONS.md) - Passo a passo para configurar notificaÃ§Ãµes
- ğŸ› ï¸ [Guia de InstalaÃ§Ã£o - Scheduler](INSTALL_SCHEDULER.md) - Passo a passo para configurar distribuiÃ§Ã£o automÃ¡tica
- ğŸ“ [Changelog - Emails](CHANGELOG_NOTIFICATIONS.md) - HistÃ³rico de mudanÃ§as do mÃ³dulo de emails
- ğŸ“ [Changelog - Scheduler](CHANGELOG_SCHEDULER.md) - HistÃ³rico de mudanÃ§as do mÃ³dulo de distribuiÃ§Ã£o

---

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o muito bem-vindas! Este projeto Ã© open source e cresce com a comunidade.

### Como contribuir

1. **Fork** o projeto
2. Crie uma **branch** para sua feature (`git checkout -b feature/MinhaFeature`)
3. **Commit** suas mudanÃ§as (`git commit -m 'Add: Minha nova feature'`)
4. **Push** para a branch (`git push origin feature/MinhaFeature`)
5. Abra um **Pull Request**

### PadrÃµes de Commit

Seguimos o [Conventional Commits](https://www.conventionalcommits.org/):
```
feat: Adiciona nova funcionalidade
fix: Corrige um bug
docs: Atualiza documentaÃ§Ã£o
style: MudanÃ§as de formataÃ§Ã£o
refactor: RefatoraÃ§Ã£o de cÃ³digo
test: Adiciona testes
chore: Tarefas de manutenÃ§Ã£o
```

### CÃ³digo de Conduta

Por favor, leia nosso [CÃ³digo de Conduta](CODE_OF_CONDUCT.md) antes de contribuir.

---

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a **MIT**. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

---

## ğŸ‘¥ Equipe

<table>
  <tr>
    <td align="center">
      <a href="https://github.com/MunhozIago244">
        <img src="https://github.com/MunhozIago244.png" width="100px;" alt="Iago Munhoz"/><br>
        <sub><b>Iago Munhoz</b></sub>
      </a><br>
      <sub>Criador & Mantenedor</sub>
    </td>
  </tr>
</table>

---

## ğŸ’¬ Comunidade

Junte-se Ã  nossa comunidade e ajude a melhorar o Ecclesia:

- ğŸ› [Reportar Bugs](https://github.com/MunhozIago244/Ecclesia/issues)
- ğŸ’¡ [Sugerir Features](https://github.com/MunhozIago244/Ecclesia/issues)
- ğŸ’¬ [DiscussÃµes](https://github.com/MunhozIago244/Ecclesia/discussions)
- ğŸ“§ Email: munhoziago244@gmail.com

---

## ğŸ™ Agradecimentos

- [Shadcn UI](https://ui.shadcn.com/) - Pelos componentes incrÃ­veis
- [Lucide Icons](https://lucide.dev/) - Pelos Ã­cones lindos
- [Vercel](https://vercel.com/) - Pela hospedagem gratuita
- Toda a comunidade open source que inspira este projeto

---

<div align="center">

**Feito com â¤ï¸ para igrejas que querem focar no que realmente importa: pessoas.**

â­ Se este projeto te ajudou, considere dar uma estrela!

</div>